document.addEventListener('DOMContentLoaded', () => {
    // Character data
    const waifuData = {
        1: {
            name: "Shinobu Oshino",
            anime: "Monogatari",
            description: ``,
            stats: {
                strength: 100,
                intelligence: 100,
                charisma: 100,
                kawaii: 100
            } 
        },
        2: {
            name: "Hex Maniac",
            anime: "Pokemon",
            description: ``,
            stats: {
                strength: 100,
                intelligence: 100,
                charisma: 100,
                kawaii: 100
            }
        },
        3: {
            name: "Neko Kuroha",
            anime: "Brynhildr In The Darkness",
            description: `⠀⠀Вона є чарівною і в той же час смертоносною, адже насправді є відьмою, яка втекла з секретної лабораторії. Її минуле оповите таємницями, що робить її ще більш привабливою.

<br> ⠀⠀Kuroha має класичний готично-мальовничий образ: <br> ⠀- Довге темно-синє волосся, яке надає їй елегантності та загадковості. <br> ⠀- Глибокі сині очі, її виразний погляд може бути як холодним і серйозним, так і теплим та ніжним у важливі моменти. <br> ⠀- Вона носить стандартну білу сукню з фіолетовим бантом. <br> ⠀- Вона має особливу атмосферу, яка поєднує її силу та емоційну стриманість, створюючи ефект кудеру. <br> ⠀⠀Вона серйозна, але зворушлива, холодна, але турботлива. Поєднання ніжності та сили робить її дуже привабливою. Її стриманість і трохи соціальна незграбність додають шарму, адже це створює контраст із її могутністю. Спочатку вона здається холодною та беземоційною, але насправді це через її непросте минуле.Вона має сильне почуття справедливості і не може залишити людей у біді, дуже турботлива, особливо щодо своїх друзів. Вона завжди прагне їх захистити. <br> ⠀⠀Ох ці прекрасні спогади в той період часу, мене сильно вразило це аніме і ситуація в якій я був. І тому вона багато для мене означає зі спогадами. <br> ⠀⠀Взагалі дякую Жеке, він, коли ми грали OSU!, знайшов карту з першим опенінгом, який мені дуже сподобався і я відразу пішов дивитися саме аніме. Це сильне аніме, яке не дає перепочити спокійно і насолодиться цими моментами цієй героїні, ну і так це вплинуло на цікавість всього і постійні переживання. Момент коли її розрізали на шматочки, потряс не хило за емоціями. <br> ⠀⠀Досі чекаю продовження аніме, яке б воно не було, щоб ще раз відчути те, що читав у мангі. Опенінг іноді трапляється у плейлисті і мене несе на повтор і думки, глибокі думки про той час, з яким багато пов'язано. Цей сюжет знову прокручується в голові, і як би хотілося зупинитися і поринути в альтернативу, де все спокійно і повсякденно з цими героями... 
            `,
            gradients: {
                image: 'linear-gradient(0deg, #24274b, #7597de)',
                details: 'linear-gradient(0deg, #24274b, #7597de)'
            }
        },
        4: {
            name: "Karura Kure",
            anime: "Kenganverse",
            description: `⠀⠀Представниця легендарного клану Kure. Вона — неймовірно сильна, небезпечна та, що важливо, приголомшливо приваблива, яка поєднує в собі сексуальність, брутальність і величезну силу.
            <br> ⠀⠀У неї ідеальне поєднання жіночності та м’язистого тіла, що відображає її бойові навички, має довге чорне волосся, її вираз обличчя може змінюватися від милого до смертельно небезпечного за секунду. Karura має пишні форми, які доповнюють її образ смертельно привабливої воїтельки.
            <br> ⠀⠀На відміну від інших членів клану Kure, які серйозні та холоднокровні, Karura більш розкута та експресивна, вона фанатка тільки сильних чоловіків, тому пора знову качатися) Вона не боїться заявити про свої бажання і впевнено діє, на відміну від типових "сильних жінок", вона може бути милою та навіть трішки комедійною.
            <br> ⠀⠀Кожна поява в манзі – це окремий скріншот. Вміє співати та любить читати. Сподіваюся, що надалі їй дадуть бій з кимось на великій арені, і вона покаже все, на що здатна.
            <br> ⠀⠀Ще одна її особливість і також особливість клану Куре - це їхні очі, чорна склера. Я просто обожнюю цей стиль і використовую його часто на своїх персонажів. І коли я побачив Карлу, я одразу зрозумів, вона точно літає до списку Вайфу в майбутньому!`,
            gradients: {
                image: 'linear-gradient(0deg, rgba(82,76,85,255), rgba(47,42,56,255))',
                details: 'linear-gradient(0deg, rgba(82,76,85,255), rgba(47,42,56,255))'
            }
        },
        5: {
            name: "Holo",
            anime: "Spice and wolf",
            description: `⠀⠀Є одна з найвідоміших вайфу в аніме-світі. Наймудріша і найкрасивіша вовчиця, яка приносить радість та удачу! Чудова зовнішність вовко-дівчинки, чарівні вушка з білими кінчиками та ваткою всередині, прекрасне довге волосся до талії, чудовий і великий хвіст з білим наконечником. Струнне і чесне тіло з гарною формою. Одна з її найбільш милих рис — пухнастий хвіст, який вона любить доглядати, а коли щось не так — може сердито ним махати. У багатьох сценах вона загортається в нього, що створює відчуття затишку й ніжності.
            <br> ⠀⠀Сама дуже життєрадісна, грайлива, кумедна та товариська. Її поведінка і настрій як у дівчини підлітка, завжди буйна, запальна за емоціями. Багато всього знає про світ і може багато розповісти, чудовий і розумний співрозмовник. Коли приходить справа, то вона дуже господарська, але також може влаштувати проблеми. Може також перетворюватися на величезного пухнастого вовка. Та й так вона сама по собі пухнаста, що так і хочеться погладити її і віддати всі яблука, поділиться випивкою і посидіти з нею в душевній компанії.
            <br> ⠀⠀Часом дуже сильно хочеться почитати мангу, правда два томи лежать вдома і вже почав їх так збирати, тому тільки після покупки читатиму.`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(194,127,111,255), rgba(219,138,115,255))',
                details: 'linear-gradient(0deg, rgba(194,127,111,255), rgba(219,138,115,255))'
            }
        },
        6: {
            name: "Aqua",
            anime: "Konosuba",
            description: `⠀⠀Aqua — це ходячий парадокс: вона богиня, але поводиться як некомпетентна, примхлива, але неймовірно мила та красива дівчина. Неймовірно красива дівчина з прекрасним довгим блакитним волоссям і таким же кольором очей. На голові носить відповідну шпильку у формі молекули води. Красивий біло-синій одяг з маленькою спідницею з кількома шарами, що переливають, які ніби парять в сторони, щоб щось засвітити ( ͡° ͜ʖ ͡°). Перебуваючи вдома, носить милу піжаму і зовнішній вигляд більш розпатланий, що навіть надає особливої атмосфери затишку, спокою.
            <br> ⠀⠀Вона має суміш гордості, дурості, емоційності та безмежної харизми, вона вважає себе богинею (що технічно правда), але постійно веде себе, як дитина, що не хоче працювати, в будь-якій проблемі (навіть найменшій) для неї стає трагедією світового масштабу. Вона обожнює розповідати, наскільки вона чудова, але сама постійно встряє в безглузді ситуації. Сам же характер Акви це безтурботна розбещена дитина. Вічно жвава і весела, рідко думає про наслідки своїх дій, що часто справляє неприємності тимі, особливо в грошовій, яка вона часто спускає в алкоголь. Досить зарозуміла, погано бреше. Стримана до інших людей.
            <br> ⠀⠀Вона не така дурна як часто її описують фендом, і як же мені не подобається, особливо коли називають її некорисною, та вона найкорисніша за статами в тімі, вже можна привести в приклад, зцілення, воскресіння, очищення і високу шкоду по нежиті і список ще великий. Так само вона може непогано заспокоїти, вона чуйна і може послухати та підбадьорити.
            <br> ⠀⠀Комедія - комедія, але в Акви утворилося кілька психологічних травм через незвички у світі людей та й через величезні жаби, які часто її проковтували, і в клітці з алігаторами. Залишається їй у цьому поспівчувати, бідолаха. Тому вона стала трохи боягузливою і не може переносити складних битв.`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(57,64,148,255) 14%, rgba(168,224,246,255) 84%)',
                details: 'linear-gradient(0deg, rgba(57,64,148,255) 14%, rgba(168,224,246,255) 84%)'
            }
        },
        7: {
            name: "Tohru",
            anime: "Miss Kobayashi's Dragon Maid",
            description: `⠀⠀Одна з найгарячіших і милих драконш. Вона поєднує в собі силу дракона, чарівність аніме-дівчини та безмежну любов до Кабаяші. Вона весела, енергійна, трохи ревнива.
            <br> ⠀⠀Вона - гармонія між милотою і сексуальністю, бо вона одночасно і дракон, і мила служниця, гарячо-жовті очі з вертикальними зіницями, довге світле волосся з рожевими кінчиками, довгий хвіст в людській формі (іноді забуває його ховати, що робить її ще милішою). До того ж носить наряд мейди, який додає їй жіночності та привабливості. Ще в неї неймовірно пишні форми тіла.)
            <br> ⠀⠀Вона весела та енергійна, завжди на позитиві й створює радість навколо себе. Трохи ревнива, адже не любить, коли хтось інший привертає увагу Кабаяші, хаотична та несерйозна, любить бавитися, але може стати смертельно серйозною, якщо Кабаяші в небезпеці. Вона обожнює експериментувати з куЛенарією і часом навіть намагається нагодувати Кабаяші власним хвостом, що лякає і смішить одночасно. Загалом вона добра, але якщо хтось її образить або зачепить Кабаяші, може перетворитися на справжнього монстра.`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(78,163,135,255) 14%, rgba(253,204,128,255) 84%)',
                details: 'linear-gradient(0deg, rgba(78,163,135,255) 14%, rgba(253,204,128,255) 84%)'
            }
        },
        8: {
            name: "Mori Calliope",
            anime: "Vtuber",
            description: `⠀⠀Жнець душ, але також помимо того, щоб відправляти людей у потойбічний світ, вона репує, зачаровує своїм голосом і підкорює серця фанатів своєю карєрою Vtuber.
            <br> ⠀⠀Вона виглядає дорослою, таємничо, могутньо і надзвичайно привабливою дівчиною. Має красиве і довгн рожеве волосся, чорний плащ жнеця та велитеньську косу.
            <br> ⠀⠀Іноді здається суворою, але насправді дуже мила, типова цундере. Досить сором'язлива, найраптовіші і кумедніші подиви на стрімах це її. Вміє вибачитися якщо зробила щось не так. 
            <br> ⠀⠀Я не сильно радую жіночик вокал, але це один із винятків. В неї прекрасний голос, вміє прекрасно співати. Вона записала багато музики, до сих пір видає круті треки, які постійно залітають в плейлист. А також вона робить ASMR, правда спочатку поганий бо вона могла навіть крикнути не випадково і розбурхати, але більше вона так не робить. Часто видає милі звуки. Gah~`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(31,30,35,255) 14%, rgba(244,183,202,255) 84%)',
                details: 'linear-gradient(0deg, rgba(31,30,35,255) 14%, rgba(244,183,202,255) 84%)'
            }
        },
        9: {
            name: "Elaina",
            anime: "The Journey of Elaina",
            description: `Відьма-мандрівниця, розумна та неймовірно приваблива. Вона волелюбна, сповнена цікавості до світу, саркастична та чарівна. Мила така відьмочка, яка подорожує світом, щоб пізнати його краще і навчиться чогось новому.
            <br> Зовнішність дівчини маленького зросту та худого тіла. Великі та прекрасні очі сумісного бузкового та попелястого кольору та попелясто-сіре волосся довгим до попереку. Носить довгий чорний плащ і величезний крутий магічний капелюх. Так само носить значок відьми на доказ складання іспиту та становлення справжньою відьмою після вчення у старшої відьми.
            <br> Характер ввічливої дівчини, до певного часу, якщо її гарненько роздратувати, то виходити з себе і може нагрубити. Досить зарозуміла і жадібна до грошей. Може заробляти гроші способом обману, це вдається з допомогою її магії. Виходячи з її настрою вона може нерідко допомогти нужденному, навіть без грошей, або зовсім відмовиться від нагороди.
            <br> Дуже любить хліб та каву. На жаль, має аллергію на кішок, що є нетипово для відьм по стереотипах. Вміє приймати світ без зайвих емоцій, що робить її реалістичною і глибокою героїнею.
            <br> До того ж на додачу це ще й Попільна Відьма, ловлю зараз від цього вайб з душ. Дано було це прізвисько через її попелясто красиве волосся.`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(50,42,63,255), rgba(159,104,147,255))',
                details: 'linear-gradient(0deg, rgba(50,42,63,255), rgba(159,104,147,255))'
            }
        },
        10: {
            name: "Felicia Hardy",
            anime: "Spiderman",
            description: `⠀⠀Ака чорна кішка - це одна із вайф дитинства, яка поєднує в собі небезпечну спокусу, грацію професійної злодійки та неймовірну харизму, що змушує навіть таких морально стійких героїв, як Людина-Павук, втрачати пильність. Вона не просто черговий персонаж, у неї є глибока історія та шлях, який балансує між добром і злом.
            <br> ⠀⠀Персонажа вперше побачив у мультфільмі - Людина Павук і одразу вона мені сподобалася. Відмінна злодійка з акробатичними вміннями та відмінною реакцією, яка може позмагатися з павучим чуттям. Має важке минуле. Вона поневірялася від злодія до антигероя. Завжди могла обхитрити павука, не знімала з нього маску, коли спіймала, як вона сказала їй так цікавіше. Був навіть роман, нетривалий.
            <br> ⠀⠀Її особистість – це тонке переплетення зухвалості, впевненості у собі та ніжної чутливості, яку вона ретельно приховує за маскою сарказму та флірту. Вона не просто холоднокровна злодійка, яка думає лише про наживу, адже глибоко всередині в ній є місце для емоцій, любові та справжньої прихильності до тих, кого вона вважає гідними своєї уваги. Її стосунки з Людиною-Павуком – один із найцікавіших і найскладніших романів у всесвіті Marvel, адже між ними постійно існує ця невидима межа між чеснотою та спокусою, між обов’язком і бажанням, і хоча вона ніколи не була типовою "доброю дівчинкою", її почуття до Пітера Паркера завжди були справжніми, навіть якщо вона часто ставила свої інтереси вище за моральні принципи. Вона навіть не зняла маску з павучка, коли була така змога, їй було цікаво, але все таки стрималася, бо так цікавіше.
            <br> ⠀⠀Зовнішність дуже привабливої дівчини з довгим вллоссям, для костюму вона їх фарбує в попелясто-білий колір, або навіть могла змінювати колір за допомогою симбіоту. Було багато запитань про її колір очей. То вони зелені, то сині. У мультфільмах вони часто змінювали її зовнішність, але мені найбільше сподобалася зовнішність з першої появи, де в неї прекрасна форма тіла з трохи накачаним тілом і пресом, який видно крізь костюм. Дуже гаряча. Поєднувалася з симбіотом, що зробив її ще гарячіше. Так само мені сподобався образ з другого мультфільму «Чудова Людина Павук», де мультяшний образ, але досить милий. Найгірший образ був в останній появі у мультфільмі, де коротка зачіска та жахливий характер. Де вона могла грабувати і навіть випадково вбити без жодної мотивації. На жаль, після цього вона не з'являлася, крім персонажа, якого я навіть не згадав, не дивно, бо він навіть нічого не говорив і з'явився на один момент, у фільмі «Людина Павук: Повернення Додому». Сподіваюся в майбутньому побачити її на великому екрані.`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(11,8,16,255) 14%, rgba(244,243,246,255) 84%)',
                details: 'linear-gradient(0deg, rgba(11,8,16,255) 14%, rgba(244,243,246,255) 84%)'
            }
        },
        11: {
            name: "Lena",
            anime: "Everlasting summer",
            description: `⠀⠀Лена з Нескінченного Літа – це персонаж, який залишив глибокий слід у моїй душі, і кожного разу, коли я згадую її, не можу не переживати ті емоції, які вона викликала. Вона – типова кудере, але з тією глибиною, що відразу зачаровує і змушує задуматися про її внутрішній світ.
            <br> ⠀⠀Її зовнішність – темно-фіолетове волосся, яке завжди акуратно зібране в два хвости, що відображають її стриману і інколи загадкову натуру. Вона не вирізняється серед інших, і саме це робить її такою особливою. Лена – це не просто сором'язлива дівчина, це самодостатня особистість, яка вибирає залишатися на самоті, але не через холодність, а через те, що в її душі є глибина, яку не кожен може зрозуміти.
            <br> ⠀⠀Вона не панікує, не втрачає голову, а завжди зберігає спокій, навіть коли навколо все розвалюється. Це додає їй такого особливого шарму і розуміння, що внутрішній баланс для неї важливіший за будь-які зовнішні обставини. (Ну тільки не згадуйте поганий рут...)
            <br> ⠀⠀По образу вона кудере, яких я обожнюю. Але багато хто описує її як яндере, що відверто кажучи бісить. Це через рут Маші, і то взагалі по суті був сон. Вона любить читати і часто буває у бібліотеці.
            <br> ⠀⠀Що мене ще зачепило – це музика, її тема Let's Be Friends. Вона... це просто нереально, кожен акорд, кожна нота у музиці, залишає ще більший слід в моєму серці. Для мене це стало не просто фоном, а частиною її історії, частиною її душі. Мелодії, які супроводжують Лену, відображають її переживання, і для мене вони стали одним із найбільших емоційних зв’язків, що ведуть до її образу.
            <br> ⠀⠀Через неї я почав шукати нові горизонти в літературі та культурі, і навіть на імідж-бордах, де знаходив нові цікаві моди, які з часом стали невід'ємною частиною моїх власних інтересів в деяких планах. Мені часто спадає думка переграти гру на її рут з музикою та вклинутися в гру по повній, в цю чудову історію... ця атмосфера була неймовірна...`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(219,225,228,255) 14%, rgba(81,52,122,255) 84%)',
                details: 'linear-gradient(0deg, rgba(219,225,228,255) 14%, rgba(81,52,122,255) 84%)'
            }
        },
        12: {
            name: "Senko",
            anime: "The Helpful Fox Senko-san",
            description: `⠀⠀Персонаж який здатен затишно огорнути теплом і комфортом, навіть якщо цього не очікуєш. Вона — напівбогиня лисиця з довгим оранжевим волоссям та великим пухнастим хвостом. Сенко дуже миловидна, але її чарівність не лише в зовнішності. Те, що дійсно робить її особливою — це її турботливий, материнський характер, який, здається, охоплює, навіть коли не просиш про це, але воно завжди доречно.
            <br> ⠀⠀Одягнена у красиве кімоно червоно-білим кольором і з червоним бантом спереду на талії. Дуже маленька і на вигляд тендітна. Чуйна, може побалувати і добре дбає. Завжди називає себе матір'ю чи дружиною. 
            <br> ⠀⠀Для мене Senko — це символ того, як важливо мати когось поруч, хто просто хоче піклуватися і дарувати тепло. Вона була тією постаттю, яка нагадала мені, що іноді ми потребуємо саме того, щоб просто відпочити і відчути спокій. Її душевний спокій, уважність до деталей і бажання зробити світ кращим робить її насправді прекрасною. Її гумор і безпосередність, коли вона скаже або зробить щось миле, знову й знову змушують посміхатися.
            <br> ⠀⠀Володіє так само магією: може створювати портали або навіть сама телепортуватися, вміє літати, але не довго через вік у 800 років, вміє створювати синій вогник. Часто використовує жест лисиці на пальцях, що називається «Кін». Знайшов її в тому симуляторі, де і Shinobu.
            <br> ⠀⠀Боїться пилососів і не любить і не вміє користуватися технікою. Не любить коли чіпають її хвіст чи вуха, але через силу може дозволити, що не так вже й погано, подає вигляд, що подобається, але заперечує це.)`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(164,79,84,255) 14%, rgba(223,148,68,255) 84%)',
                details: 'linear-gradient(0deg, rgba(164,79,84,255) 14%, rgba(223,148,68,255) 84%)'
            }
        },
        13: {
            name: "Dakini",
            anime: "Imawabi no Dakini",
            description: `⠀⠀Ще одна лисиця, але бойова. Вона має коротеньку мангу, але навіть за коротку історію вона мені сподобалася. Dakini - богиня та демон лисиця, яка може виконати бажання за контрактом. Красива біла людино-подібна лисиця, з яскраво-білим волоссям та звичайною шкільною формою через ситуацію. Темно-червоні очі, гострі лисячі зуби і трохи подовженого язика, якого вона часто любить показувати трохи прикусивши зубами. Має 9 хвостів, що є найсильнішою Кітсуні за мірками легенд, чим більше хвостів – тим сильніше. Так само в кожному хвості є по ручці, витягнувши їх з'являться катани. Вміє використовувати магію та закликаються в тіло.
            <br> ⠀⠀За характером не дуже зарозуміла як для богині, і досить різка.`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(240,195,162,255) 14%, rgba(195,88,119,255) 84%)',
                details: 'linear-gradient(0deg, rgba(240,195,162,255) 14%, rgba(195,88,119,255) 84%)'
            }
        },
        14: {
            name: "Fire Keeper",
            anime: "Dark Souls 3",
            description: `⠀⠀Fire Keeper - невидимий маяк серед темряви, що підтримує і направляє героя через складний і безжалісний світ. Її образ сповнений спокою, але водночас і таємниці. Вона завжди чекає героя в Храмі Вогню, готова допомогти або вислухати, і здається, що саме в її присутності ти відчуваєш якусь особливу тишу та стабільність у цьому темному соулс світі.
            <br> ⠀⠀Її вигляд — це поєднання спокійної краси і тихої ніжності (i guess). Високий, стрункий силует, покритий темною мантією, що додає їй ще більше загадковості. Маска, що закриває очі, здавалося б, робить її обличчя ще більш таємничим. Її попелясто-сіре волосся та бліде, майже ефемерне обличчя створюють атмосферу дещо холодної, але водночас благородної краси. Але що найважливіше — це її голос. Він спокійний, мелодійний, сповнений щирості і м'якості, дуже притяно слухати її репліки отдельно на ютубі, де тільки є голос.
            <br> ⠀⠀Вона здатна реагувати на жести гравця, ця фішка дуже крута, що додає ще більше відчуття взаємодії.
            <br> ⠀⠀А ще, ЩЕ ВОНА БУДЕ В НОВОМУ ЕЛДЕНІ!! Чекаю ту гру здебільше із-за неї, ще контенту з нею! Скоро вже він кста вийде, треба грошей якось накопити))`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(12,16,21,255) 14%, rgba(127,125,121,255) 84%)',
                details: 'linear-gradient(0deg, rgba(12,16,21,255) 14%, rgba(127,125,121,255) 84%)'
            }
        },
        15: {
            name: "Saiko",
            anime: "Saiko no Sutoka",
            description: `⠀⠀Зазвичай, проста тиха школярка, в окулярах та з доглянутим одягом. Але після нашого викрадення кардинально змінюється: волосся розпатлане (знов як у Shinobu і тд) і коротко обрізане. Очі залежно від ситуації змінюють колір, то рожеві - зазвичай, то криваво-червоні, що горять, і вся вона вимазана кров'ю, особливо ноги. Завжди носить ніж, який може метати.
            <br> ⠀⠀В неї є кілька режимів поведінки. Вона типова яндеру, у певні моменти вона виглядає милою і беззахисною, а в інші — нестримною та агресивною, готовою на все. Мені подобається частенько з нею бігати, вона досить мила, і так само недавно ввели що можна її гладити, щоб заспокоїти.
            <br> ⠀⠀Залишилося до сих пір ще пройти найскладніший режим із нею у неймовірно агресивній формі та її подругою Елісу. Обидві у костюмі кролика вони неймовірно гарячі.`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(170,109,94,255) 14%, rgba(112,27,47,255) 84%)',
                details: 'linear-gradient(0deg, rgba(170,109,94,255) 14%, rgba(112,27,47,255) 84%)'
            }
        },
        16: {
            name: "Apricot Froot",
            anime: "Vtuber",
            description: `⠀⠀Американський вітубер, який відзначається приємним, заспокійливим голосом. Останнім часом вона також почала робити ASMR, що додає особливого чарівництва її трансляціям. Зазвичай вона стримана та спокійна, але варто початися хаосу — і вона стає більш емоційною.
            <br> ⠀⠀Вона талановита художниця, яка може похвалитися чудовими малюнками, і хоча вона легко бентежиться і заїкається, це лише робить її більш милою і привабливою для підписників. Вона любить ігри, особливо на геймпаді, і, як виявляється, в реальному житті в неї також довгі пальці та маленькі руки.`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(77,44,111,255) 14%, rgba(147,179,201,255) 84%)',
                details: 'linear-gradient(0deg, rgba(77,44,111,255) 14%, rgba(147,179,201,255) 84%)'
            }
        },
        17: {
            name: "Nekomata Okayu",
            anime: "Vtuber",
            description: `⠀⠀Одна з найпопулярніших вітуберок, що належить до Hololive. Вона відома своєю спокійною і розслаблюючою атмосферою на стрімах, де її голос має здатність заспокоїти навіть найнапруженіших глядачів. Робить також спокійний ASMR.
            <br> ⠀⠀Okayu має легке почуття гумору і часто жартує про свою лінь і любов до їжі, особливо до рису. З першого знайомства не скажеш, але вона та ще фліртівниця і любить прямо на стрімах відкрито жартувати і підкочувати до інших, в основному щоб просто побачити їхню реакцію.
            <br> ⠀⠀Коли справа доходить до ігор і змагань, то показує із себе запальну людину, може навіть розридатися. Це показує її як сильно емоційну людину. Був момент коли вона змогла пройти Зельду на відмінно, де вона довго ревіла від щастя протягом декількох хвилин, потрібно було дуже багато часу, щоб їй заспокоїться.
            <br> ⠀⠀Mogu Mogu Mogu. It's Okayu time!`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(187,75,234,255) 14%, rgba(241,227,249,255) 84%)',
                details: 'linear-gradient(0deg, rgba(187,75,234,255) 14%, rgba(241,227,249,255) 84%)'
            }
        },
        18: {
            name: "Nakiri Ayame",
            anime: "Vtuber",
            description: `⠀⠀Так само япономовна вітубер. Були колаби з Окайю. Вонв поєднує в собі енергію, грайливість і химерність. Її високий енергійний голос, схожий на молодше дитяче звучання, одразу привертає увагу.
            <br> ⠀⠀Незважаючи на її зовнішність, Ayame часто демонструє певну наївність та пошук уваги, що робить її дуже привабливою для підписників, адже вона завжди залишається дуже щирою та непередбачуваною.
            `
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(237,179,187,255) 14%, rgba(71,63,72,255) 84%)',
                details: 'linear-gradient(0deg, rgba(237,179,187,255) 14%, rgba(71,63,72,255) 84%)'
            }
        },
        19: {
            name: "Jahy",
            anime: "The Great Jahy Will Not Be Defeated!",
            description: `⠀⠀Jahy — спочатку здавалася непереможною, жорсткою і самозакоханою демоною, яка жила в розкоші і владі, не знаючи ні обмежень, ні поразок. Її ім’я викликало тривогу серед її підлеглих, адже вона безжально катувала й навіть вбивала міньйонів за найменшу провину. Вона була гордовита, холодна і владна, а єдиним істинним джерелом її тепла був Темний Лорд, якому вона віддавала свою лояльність і поклоніння. Але часи змінилися.
            <br> ⠀Коли вона потрапила до людського світу, то вона змінилася. Вона довго не розуміла, що трапилося, після падіння Лорда, і була налякана, бо втратила свою силу, і з втратою сили, змінилася і її зовнішність, до цього вона була формою дуже жіночної та секусальної дівчини, але стала маленькою милою дівчинкою. 
            <br> ⠀У новому світі, хоч майже і без сили, Jahy намагається повернути свою колишню форму за допомогою кристалів, і на деякий час здобуває відновлену міць, хоча і не в тій мірі, як вона того бажала, за поглинання уламків кристалів магії. В її безсилій формі вона носить футболку, яка написана з іронією: «Що може перетворюватися на сексуальну вайфу і одночасно бути милою лолею», підштовхуючи до ще більшої милоти, яка стала її новим образом.
            <br> ⠀У міру нового життя стає добрішим і проникливішим до людей та її нових друзів.`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(214,135,100,255) 14%, rgba(89,70,90,255) 84%)',
                details: 'linear-gradient(0deg, rgba(214,135,100,255) 14%, rgba(89,70,90,255) 84%)'
            }
        },
        20: {
            name: "Karyl",
            anime: "Princess Connect! Re:Dive",
            description: `⠀⠀Персонаж, який може здатися холодним і відстороненим на перший погляд, але насправді має велику глибину і чуттєвість. Вона — класична цундере з її холодним і палким характером, але якщо придивитися ближче, можна побачити, що за цією покритою снігом оболонкою ховається турботливе серце.
            <br> ⠀⠀Довге чорно-синє волосся з білою смужкою на чубчику. Її волосся доходить до колін. У неї яскраво зелені очі. Так само є кошкодівочкою. Елегантне синьо-темно-фіолетове вбрання з окремими рукавами, носить панчохи до стегна. Також має чорний невеликий котячий хвіст з білим кінчиком.
            <br> ⠀⠀Довго і часто скаржиться, у неї гостра мова, може говорити речі прямо, легко запальна, легко дратується і часто нервує з приводу. Здається жорстокою та різкою, але насправді м'якосерцева та чуйна.
            <br> ⠀⠀Незважаючи на її зазвичай стриману поведінку, коли вона стикається з труднощами, Кярул розкривається перед тим, кому довіряє, і виявляє більше емоцій. Вона дуже віддана тим, кого любить, і здатна на надзвичайні жертви. Її зв'язок з іншими персонажами, особливо з головним героєм, демонструє глибину її душі.
            <br> ⠀⠀Дуже любить котів. Також досить часто нагадувала мені Акву, що не дивно, бо режисер і сценарист так само працював над Konosuba! Були навіть дуже схожі кадри.`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(97,97,163,255) 14%, rgba(84,77,92,255) 84%)',
                details: 'linear-gradient(0deg, rgba(97,97,163,255) 14%, rgba(84,77,92,255) 84%)'
            }
        },
        21: {
            name: "Zero Two",
            anime: "Darling in the Franxx",
            description: `⠀⠀Завжди привертає увагу і вражає, але для мене, з часом, вона трохи опустилася у списку улюблених вайфу. Проте це не зменшує її чарівності та привабливості. Її довге рожеве волосся, яке виблискує, і глибокі блакитні з зеленими відтінками очі, що немов проникають у саму душу, створюють образ, який неможливо забути. Вона має маленькі роги, які додають їй ще більше таємничості і особливості, а також стильний обідок, що робить їх акцентом. Її висока, струнка фігура доповнюється строгим червоним костюмом з краваткою, що виглядає елегантно і водночас підкреслює її неперевершену привабливість.
            <br> ⠀⠀Характер Zero Two дуже сильний та впертий. Вона часто поводиться стримано в емоціях, але її нахабність і гострий язик можуть легко бути викликом для оточуючих. У неї є своя система моральних переконань і принципів, якими вона дотримується, навіть якщо це не завжди збігається з думкою інших.
            <br> ⠀⠀Її минуле залишило глибокий слід на її психіці. З дитинства вона переживала багато негативу від людей, які ставилися до неї як до монстра, через що вона не дуже любить людство в цілому. З цієї причини вона ненавидить, коли її називають монстром, хоч і сама іноді важко приймає своє походження. Її боротьба з цими почуттями часто стає основною темою її внутрішнього розвитку, що додає глибини її персонажу.`
        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(213,71,65,255) 14%, rgba(245,213,210,255) 84%)',
                details: 'linear-gradient(0deg, rgba(213,71,65,255) 14%, rgba(245,213,210,255) 84%)'
            }
        },
        22: {
            name: "Raven",
            anime: "Teen titans",
            description: `⠀⠀Персонаж, що став частиною мого дитинства і залишився у пам'яті як одна з найглибших та найцікавіших вайфу. Вона — гібрид людини та демона, і це визначає її неймовірно загадкову і готичну природу. Тиха, задумлива та спокійна — вона завжди виглядає, ніби перебуває в своїх думках, і ця її внутрішня глибина заворожує. Рідко показана як весела чи емоційно виразна, вона частіше вражає своєю розумністю та спокоєм в будь-яких обставинах.
            <br> ⠀⠀Рейвен не просто зберігає спокій у складних ситуаціях — вона ще й має величезну мудрість і завжди готова дати хорошу пораду. Вона не схильна діяти на емоціях, завжди розважлива і обачлива, що робить її найнезвичайнішою серед членів команди. Це той тип персонажа, якого завжди хочеться мати поруч, адже її рекомендації та поради часто виявляються найбільш обґрунтованими і практичними.
            <br> ⠀⠀В серіалі її спочатку показували як ізгоя, але з часом вона почала ставати більш відкритою та ближчою до своїх товаришів, зокрема до Біст Боя. Її стосунки з ним розвиваються навіть в любовному контексті.
            <br> ⠀⠀Загалом у неї багато звичок реального готу, рідко буває васелою. Всесвіт цих титанів настільки величезний, що я навіть не зможу все описати навіть коротко, скільки моментів може впливати на неї.
            <br> ⠀⠀І хоча її зовнішність може здаватися трохи відразливою для деяких, Raven має неповторну красу, яка з часом відкривається і стає ще більш привабливою. Raven у перекладі це ще й ворон, не дарма мені вона спочатку сподобалася.`

        ,
            gradients: {
                image: 'linear-gradient(0deg, rgba(161,160,165,255) 14%, rgba(32,43,103,255) 84%)',
                details: 'linear-gradient(0deg, rgba(161,160,165,255) 14%, rgba(32,43,103,255) 84%)'
            }
        },
    };

    // DOM Elements
    const waifuCards = document.querySelectorAll('.waifu-card');
    const popup = document.querySelector('.waifu-popup');
    const closePopup = document.querySelector('.close-popup');
    const popupName = document.querySelector('.popup-name');
    const popupAnime = document.querySelector('.popup-anime');
    const popupDescription = document.querySelector('.popup-description');
    const popupImage = document.querySelector('.popup-image');
    const characterTheme = document.getElementById('characterTheme');
    const statFills = document.querySelectorAll('.stat-fill');
    const waifuShrine = document.getElementById('shinobuShrine');
    const shrineAudio = document.getElementById('shrineAudio');
    const shrineAudioControl = document.getElementById('shrineAudioControl');
    const hexShrine = document.getElementById('hexShrine');
    const hexShrineAudio = document.getElementById('hexShrineAudio');
    const hexShrineAudioControl = document.getElementById('hexShrineAudioControl');
    let isHexShrineAudioPlaying = false;
    let isShrineAudioPlaying = false;

    // Toggle sidebar functionality
    const toggleSidebar = document.getElementById('toggleSidebar');
    const sidebar = document.querySelector('.sidebar');

    toggleSidebar.addEventListener('click', () => {
        sidebar.classList.toggle('active');
    });

    // Create character looking elements
    const characterLooking = document.createElement('img');
    characterLooking.classList.add('character-looking');
    characterLooking.src = '../img/waifus/avatar/shinobu2_first_frame.png';
    characterLooking.alt = 'Shinobu дивиться';
    characterLooking.style.display = 'none';
    document.body.appendChild(characterLooking);

    const hexLooking = document.createElement('img');
    hexLooking.classList.add('character-looking', 'hex-looking');
    hexLooking.src = '../img/waifus/hexy_huh.png';
    hexLooking.alt = 'Hex Maniac дивиться';
    document.body.appendChild(hexLooking);

    characterLooking.style.width = '600px';
    characterLooking.style.height = 'auto';
    hexLooking.style.width = '450px';
    hexLooking.style.height = 'auto';
    characterLooking.style.transform = 'scaleX(-1)';

    // Initially hide the shrines
    if (waifuShrine) {
        waifuShrine.style.display = 'none';
    }
    if (hexShrine) {
        hexShrine.style.display = 'none';
    }

    // Update shrine audio control functionality
    if (shrineAudioControl) {
        const audioSrc = shrineAudioControl.getAttribute('data-audio-src');
        if (audioSrc && shrineAudio) {
            shrineAudio.src = audioSrc;
        }

        shrineAudioControl.addEventListener('click', () => {
            if (!shrineAudio.paused) {
                shrineAudio.pause();
                shrineAudioControl.innerHTML = '<i class="fas fa-play"></i><span>Тема</span>';
            } else {
                shrineAudio.play().catch(e => console.log("Audio autoplay prevented:", e));
                shrineAudioControl.innerHTML = '<i class="fas fa-pause"></i><span>Тема</span>';
            }
        });
    }

    // Handle Hex's music control
    if (hexShrineAudioControl) {
        hexShrineAudioControl.addEventListener('click', () => {
            if (!hexShrineAudio.paused) {
                hexShrineAudio.pause();
                hexShrineAudioControl.innerHTML = '<i class="fas fa-play"></i><span>Тема</span>';
            } else {
                hexShrineAudio.play().catch(e => console.log("Audio autoplay prevented:", e));
                hexShrineAudioControl.innerHTML = '<i class="fas fa-pause"></i><span>Тема</span>';
            }
        });
    }

    // Helper function for destroy animation
    function handleDestroyAnimation(card, lookingImage, shrine, audio, audioControl, isAudioPlaying) {
        return function destroyHandler() {
            card.classList.add('destroying');
            lookingImage.classList.add('destroying');
            
            setTimeout(() => {
                card.style.display = 'none';
                lookingImage.style.display = 'none';
                
                if (shrine) {
                    shrine.style.display = 'block';
                    shrine.classList.add('active');
                    shrine.scrollIntoView({ behavior: 'smooth' });
                    
                    if (audio) {
                        audio.play()
                            .then(() => {
                                isAudioPlaying = true;
                                audioControl.innerHTML = '<i class="fas fa-pause"></i><span>Тема</span>';
                            })
                            .catch(e => console.log("Audio autoplay prevented:", e));
                    }
                }
                
                lookingImage.removeEventListener('click', destroyHandler);
            }, 1000);
        };
    }

    // First card click handler
    const firstCard = document.querySelector('.waifu-card[data-waifu-id="1"]');
    if (firstCard) {
        firstCard.addEventListener('click', (e) => {
            e.stopPropagation();
            characterLooking.style.display = 'block';
            characterLooking.classList.add('active');
            characterLooking.src = '../img/waifus/avatar/shinobu2_first_frame.png';

            setTimeout(() => {
                characterLooking.src = '../img/waifus/avatar/shinobu2.gif';
            }, 200);

            setTimeout(() => {
                characterLooking.src = '../img/waifus/avatar/shinobu2_last_frame.png';
            }, 1100);

            characterLooking.addEventListener('click', handleDestroyAnimation(
                firstCard,
                characterLooking,
                waifuShrine,
                shrineAudio,
                shrineAudioControl,
                isShrineAudioPlaying
            ));
        });
    }

    // Second card click handler
    const secondCard = document.querySelector('.waifu-card[data-waifu-id="2"]');
    if (secondCard) {
        secondCard.addEventListener('click', (e) => {
            e.stopPropagation();
            hexLooking.classList.add('active');

            hexLooking.removeEventListener('click', destroyHandlerHex);
            
            function destroyHandlerHex() {
                hexLooking.classList.remove('hex-float');
                handleDestroyAnimation(
                    secondCard,
                    hexLooking,
                    hexShrine,
                    hexShrineAudio,
                    hexShrineAudioControl,
                    isHexShrineAudioPlaying
                )();
                hexLooking.removeEventListener('click', destroyHandlerHex);
            }

            hexLooking.addEventListener('click', destroyHandlerHex);
        });
    }

 // Show popup for other waifu cards (3 and above)
waifuCards.forEach(card => {
    card.addEventListener('click', () => {
        const waifuId = parseInt(card.getAttribute('data-waifu-id')); // Тут він доступний правильно
        if (waifuId > 2) {
            const musicUrl = card.getAttribute('data-music');
            const waifu = waifuData[waifuId];
            const popupImageContainer = document.querySelector('.popup-image-container');
            const popupDetails = document.querySelector('.popup-details');

            if (waifu) {
                popupName.textContent = waifu.name;
                popupAnime.textContent = waifu.anime;
                popupDescription.innerHTML = waifu.description;
                popupImage.src = card.getAttribute('data-popup-image') || card.querySelector('.waifu-image').src;
                popupImage.alt = waifu.name;

                // Apply gradients
                if (waifu.gradients) {
                    popupImageContainer.style.background = waifu.gradients.image;
                    popupDetails.style.background = waifu.gradients.details;
                }

                if (waifu.stats) {
                    statFills.forEach(fill => {
                        const statType = fill.getAttribute('data-stat');
                        if (waifu.stats[statType]) {
                            setTimeout(() => {
                                fill.style.width = waifu.stats[statType] + '%';
                            }, 100);
                        }
                    });
                }

                if (musicUrl) {
                    characterTheme.src = musicUrl;
                    characterTheme.play().catch(e => console.log("Audio autoplay prevented:", e));
                }

                popup.classList.add('active');

                // Trigger pet dialogue for waifu card (game 6)
                if (waifuId === 6) {
                    const pet = document.querySelector('.pet-container');
                    if (pet) {
                        const petInstance = window.petInstance;
                        if (petInstance && typeof petInstance.sayDialogue === 'function') {
                            petInstance.sayDialogue('waifu-water', true);
                        }
                    }
                }
            }
        }
    });
});


    // Close popup
    closePopup.addEventListener('click', () => {
        popup.classList.remove('active');
        statFills.forEach(fill => {
            fill.style.width = '0';
        });
        characterTheme.pause();
        characterTheme.currentTime = 0;
    });

    // Close popup when clicking outside
    popup.addEventListener('click', (e) => {
        if (e.target === popup || e.target.classList.contains('popup-overlay')) {
            closePopup.click();
        }
    });

    // Close popup with Escape key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && popup.classList.contains('active')) {
            closePopup.click();
        } else if (e.key === 'Escape') {
            if (waifuShrine && waifuShrine.classList.contains('active')) {
                waifuShrine.classList.remove('active');
                waifuShrine.style.display = 'none';
                if (shrineAudio) {
                    shrineAudio.pause();
                    shrineAudio.currentTime = 0;
                }
            }
            if (hexShrine && hexShrine.classList.contains('active')) {
                hexShrine.classList.remove('active');
                hexShrine.style.display = 'none';
                if (hexShrineAudio) {
                    hexShrineAudio.pause();
                    hexShrineAudio.currentTime = 0;
                }
            }
        }
    });

    // Preload images
    function preloadImages() {
        waifuCards.forEach(card => {
            const img = new Image();
            const imgElement = card.querySelector('.waifu-image');
            if (imgElement && imgElement.src) {
                img.src = imgElement.src;
            }
            
            const popupImg = card.getAttribute('data-popup-image');
            if (popupImg) {
                const popupImgObj = new Image();
                popupImgObj.src = popupImg;
            }
        });
    }

    preloadImages();
});